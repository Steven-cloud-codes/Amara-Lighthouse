<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Watch Video | Amara Lighthouse</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        overflow-x: hidden;
        margin: 0;
        padding: 0;
      }

      .card {
        border-radius: 8px;
      }

      /* Rotate warning styles */
      .rotate-warning {
        display: none;
        text-align: center;
        font-size: 0.95rem;
        padding: 10px;
        background-color: #fff3cd;
        color: #856404;
        border: 1px solid #ffeeba;
        border-radius: 5px;
        margin-bottom: 1rem;
      }

      /* Show warning only on portrait phones */
      @media screen and (orientation: portrait) and (max-width: 768px) {
        .rotate-warning {
          display: block;
        }
      }

      /* Responsive typography */
      @media (max-width: 576px) {
        h2 {
          font-size: 1.4rem;
        }

        p {
          font-size: 0.95rem;
        }

        .btn {
          font-size: 0.9rem;
        }
      }
    </style>
  </head>

  <body class="bg-light">
    <div class="container py-4 px-3">
      <div class="row justify-content-center">
        <div class="col-12 col-sm-11 col-md-10 col-lg-8">
          <div class="card shadow-sm border-0">
            <div class="card-body" id="videoContainer">
              <p class="text-center text-muted">Loading video...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Your video.js must define a videoList array like:
         const videoList = [{ id: "laphet", title: "...", description: "...", source: "...", file: "https://www.youtube.com/embed/..." }];
    -->
    <script src="assets/js/video.js"></script>

    <script>
      const params = new URLSearchParams(window.location.search);
      const videoId = params.get("id");
      const video = videoList.find((v) => v.id === videoId);
      const container = document.getElementById("videoContainer");

      if (video) {
        container.innerHTML = `
          <h2 class="card-title text-center mb-3">${video.title}</h2>
          <p class="text-muted text-center mb-1">${video.description}</p>
          <p class="text-center mb-4">
            <small>Source: <a href="${video.source}" target="_blank">${video.source}</a></small>
          </p>

          <div class="rotate-warning">
            üì± Please rotate your phone to landscape for a better viewing experience.
          </div>

          <div class="ratio ratio-16x9 mb-4">
            <iframe src="${video.file}" allow="autoplay; fullscreen" allowfullscreen></iframe>
          </div>

          <div class="text-center">
            <button class="btn btn-outline-primary" onclick="history.back()">‚Üê Back</button>
          </div>
        `;
      } else {
        container.innerHTML = `
          <div class="text-center text-danger">
            <h4>‚ö†Ô∏è Video Not Found</h4>
            <p>Please check the URL or video ID.</p>
            <a href="index.html" class="btn btn-secondary">Go Back</a>
          </div>
        `;
      }
    </script>
  </body>
</html>
