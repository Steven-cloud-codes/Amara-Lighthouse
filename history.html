<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Basic HTML head setup with Bootstrap CDN for styling -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>History</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>

    <style>
      .banner {
        background-image: url("assets/imgs/history/history.png");
        background-size: cover;
        background-position: center;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .banner h1 {
        font-size: 3rem;
        font-weight: bold;

        padding: 35px;
        border-radius: 8px;
        color: white;
      }

      .intro img {
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      /*======================= Time-line Start========================*/
      .timeline-img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, rgb(0, 0, 0), transparent);
        pointer-events: none; /* lets user click through */
      }

      .timeline-section {
        width: 100%;
        height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      @media (min-width: 768px) {
        .timeline-section {
          flex-direction: row;
        }
      }

      /* Timeline styles */
      .timeline {
        width: 100%;
        height: 40vh;
        overflow-y: auto;
        scrollbar-width: none;
        padding-left: 20px;
        background-color: rgba(0, 0, 0);
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: y mandatory;
      }

      .timeline::-webkit-scrollbar {
        display: none;
      }

      .timeline-title {
        height: 40vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 15px;
        border-left: 3px solid rgb(255, 255, 255);
        transition: all 0.3s ease-in-out;
        scroll-snap-align: start;
      }

      .timeline-title.active {
        font-size: 1.5em;
        color: rgb(255, 255, 255);
        font-weight: bold;
      }

      .timeline-title span {
        font-size: 0.8em;
        color: #555;
        margin-top: 5px;
      }

      /* Content styles */
      .content-container {
        width: 100%;
        height: 60vh;
        position: relative;
      }

      .content {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        text-align: center;
        color: white;
        font-size: 1rem;
        position: absolute;
        top: 0;
        left: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .content.active {
        opacity: 1;
      }

      .content p {
        padding: 15px;
        border-radius: 8px;
        max-width: 90%;
      }
      .timeline-text1 {
        background-color: hsla(0, 6%, 16%, 0.7);
      }
      .timeline-text2 {
        background-color: hsla(23, 58%, 26%, 0.7);
      }
      .timeline-text3 {
        background-color: #00000093;
      }
      /* Desktop styles */
      @media (min-width: 768px) {
        .timeline {
          width: 30%;
          height: 100vh;
          padding-left: 40px;
        }

        .timeline-title {
          height: 100vh;
          padding: 40px 20px;
        }

        .timeline-title.active {
          font-size: 2em;
        }

        .content-container {
          width: 70%;
          height: 100vh;
        }

        .content {
          padding: 60px;
          font-size: 1.5rem;
        }
      }
      /*======================= Time-line End========================*/
    </style>
  </head>

  <body>
    <!-- Hero banner section -->
    <div class="container-fluid banner border">
      <h1>History</h1>
    </div>

    <!-- Main content container -->
    <div class="container py-5">
      <div class="row align-items-center">
        <div class="col-lg-6 text-center order-1 order-lg-2 mb-4 mb-lg-0">
          <img
            src="assets/imgs/history/bandulaOnHorse-intro.svg"
            alt="General Bandula on Horse"
            class="img-fluid"
            style="max-width: 90%; height: auto"
          />
        </div>

        <div class="col-lg-6 text-center text-lg-start order-2 order-lg-1">
          <h2 class="mb-4 fw-bold">Myanmar History</h2>
          <h5 class="fs-5">
            Myanmar, once known as Burma, has a history that spans over 2,000
            years. It was home to the ancient Pyu city-states and later the
            powerful Bagan Kingdom, famous for its thousands of Buddhist
            temples. Over the centuries, great dynasties like the Taungoo and
            Konbaung rose and expanded the nation, shaping its culture,
            religion, and traditions. From golden pagodas to royal courts,
            Myanmar's past is filled with stories of strength, wisdom, and rich
            heritage that still inspire today.
          </h5>
        </div>
      </div>
    </div>

    <!-- Timeline Section -->
    <section class="timeline-section">
      <div class="timeline">
        <div class="timeline-title" data-index="0">
          Pyu City States <span>2nd century BCE – 11th century CE</span>
        </div>
        <div class="timeline-title" data-index="1">
          Bagan Empire <span>1044 – 1287</span>
        </div>
        <div class="timeline-title" data-index="2">
          Colonial Period <span>1824 – 1948</span>
        </div>
        <div class="timeline-title" data-index="3">
          Independence Era <span>1948 – present</span>
        </div>
      </div>

      <div class="timeline-img content-container">
        <div
          class="content"
          data-bg="https://livingnomads.com/wp-content/uploads/2018/05/15/myanmar-king-anawrahta.jpg"
        >
          <p class="timeline-text1">
            The Pyu city-states were among the earliest civilizations in
            Myanmar, known for their brick cities and Buddhist influence.
          </p>
        </div>
        <div class="content" data-bg="assets/imgs/history/Bagan.png">
          <p class="timeline-text2">
            The Bagan Empire unified Myanmar under King Anawrahta and built over
            10,000 temples.
          </p>
        </div>
        <div class="content" data-bg="assets/imgs/history/Colony.png">
          <p class="timeline-text3">
            During British colonial rule, Myanmar became part of British India,
            bringing infrastructure and resistance.
          </p>
        </div>
        <div class="content" data-bg="assets/imgs/history/independentEra.png">
          <p class="timeline-text3">
            After independence in 1948, Myanmar has undergone political changes
            and cultural growth.
          </p>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const timeline = document.querySelector(".timeline");
        const timelineTitles = document.querySelectorAll(".timeline-title");
        const contentSections = document.querySelectorAll(".content");

        // Initialize first content as active
        timelineTitles[0].classList.add("active");
        contentSections[0].classList.add("active");
        contentSections[0].style.backgroundImage = `url('${contentSections[0].dataset.bg}')`;

        // Set up intersection observer for scroll-based activation
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const index = entry.target.dataset.index;

                // Update active states
                timelineTitles.forEach((title) =>
                  title.classList.remove("active")
                );
                contentSections.forEach((section) =>
                  section.classList.remove("active")
                );

                entry.target.classList.add("active");
                contentSections[index].classList.add("active");
                contentSections[
                  index
                ].style.backgroundImage = `url('${contentSections[index].dataset.bg}')`;
              }
            });
          },
          {
            root: timeline,
            threshold: 0.5,
            rootMargin: "0px 0px -50% 0px",
          }
        );

        // Observe all timeline titles
        timelineTitles.forEach((title) => {
          observer.observe(title);
        });

        // Handle window resize to adjust for mobile/desktop
        function handleResize() {
          if (window.innerWidth >= 768) {
            // Desktop - make each timeline title take full viewport height
            timelineTitles.forEach((title) => {
              title.style.height = "100vh";
            });
            timeline.style.height = "100vh";
          } else {
            // Mobile - make each timeline title take partial height
            timelineTitles.forEach((title) => {
              title.style.height = "40vh";
            });
            timeline.style.height = "40vh";
          }
        }

        // Initial setup
        handleResize();
        window.addEventListener("resize", handleResize);
      });
    </script>
  </body>
</html>
